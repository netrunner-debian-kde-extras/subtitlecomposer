SET( services_xine_INCLUDE_DIR
	${XINE_INCLUDE_DIR}
	CACHE INTERNAL EXPORTEDVARIABLE
)

SET( services_xine_DEFS
	-D_FILE_OFFSET_BITS=64
	CACHE INTERNAL EXPORTEDVARIABLE
)

SET( services_xine_LIBS
	${XINE_LIBRARY}
	-lX11
	CACHE INTERNAL EXPORTEDVARIABLE
)

SET( services_xine_SRCS
	${CMAKE_CURRENT_SOURCE_DIR}/xineplayerbackend.cpp
	${CMAKE_CURRENT_SOURCE_DIR}/xinedecoderbackend.cpp
	${CMAKE_CURRENT_SOURCE_DIR}/xinevideolayerwidget.cpp
	${CMAKE_CURRENT_SOURCE_DIR}/xineconfigwidget.cpp
	CACHE INTERNAL EXPORTEDVARIABLE
)

SET( CMAKE_MODULE_PATH ${CMAKE_MODULE_PATH} ${CMAKE_CURRENT_SOURCE_DIR} )
MACRO_OPTIONAL_FIND_PACKAGE( XCB )
IF( XCB_FOUND AND XINE_XCB_FOUND )
	SET( HAVE_XCB 1 CACHE INTERNAL EXPORTEDVARIABLE )
	SET( services_xine_INCLUDE_DIR
		${LIBXCB_INCLUDE_DIR}
		${services_xine_INCLUDE_DIR}
		CACHE INTERNAL EXPORTEDVARIABLE
	)
	SET( services_xine_DEFS
		${LIBXCB_DEFINITIONS}
		${services_xine_DEFS}
		CACHE INTERNAL EXPORTEDVARIABLE
	)
	SET( services_xine_LIBS
		${LIBXCB_LIBRARIES}
		${services_xine_LIBS}
		CACHE INTERNAL EXPORTEDVARIABLE
	)
ENDIF( XCB_FOUND AND XINE_XCB_FOUND )
